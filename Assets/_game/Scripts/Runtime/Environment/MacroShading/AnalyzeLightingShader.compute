#pragma kernel AnalyzeLightingKernel

Texture2DArray<float4> source;
RWBuffer<int> result;
float max_depth;
int result_resolution;


[numthreads(8,8,1)]
void AnalyzeLightingKernel (uint3 id : SV_DispatchThreadID)
{
    if (source[id.xyz].r < max_depth)
    {
        InterlockedAdd(result[0], result_resolution);
    }
}
